<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>FAQ · CrystalNets.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CrystalNets.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../man/visualization/">Visualization</a></li><li class="is-active"><a class="tocitem" href>FAQ</a><ul class="internal"><li><a class="tocitem" href="#How-can-I-silence-warnings-or-remove-exports?"><span>How can I silence warnings or remove exports?</span></a></li><li><a class="tocitem" href="#How-can-I-check-that-the-detected-topology-corresponds-to-my-input?"><span>How can I check that the detected topology corresponds to my input?</span></a></li><li><a class="tocitem" href="#How-can-I-choose-a-particular-clustering-algorithm?"><span>How can I choose a particular clustering algorithm?</span></a></li><li><a class="tocitem" href="#The-topology-has-a-name-given-by-ToposPro-but-CrystalNets.jl-yields-&quot;UNKNOWN-...&quot;"><span>The topology has a name given by ToposPro but CrystalNets.jl yields &quot;UNKNOWN ...&quot;</span></a></li><li><a class="tocitem" href="#ToposProStandard"><span>Why is the topology computed with Standard different from ToposPro&#39;s standard?</span></a></li><li><a class="tocitem" href="#How-can-I-do-a-database-topology-analysis-with-CrystalNets.jl?"><span>How can I do a database topology analysis with CrystalNets.jl?</span></a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../lib/public/">Public</a></li><li><a class="tocitem" href="../lib/internals/">Internals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>FAQ</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>FAQ</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/coudertlab/CrystalNets.jl/blob/master/docs/src/faq.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Troubleshooting"><a class="docs-heading-anchor" href="#Troubleshooting">Troubleshooting</a><a id="Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting" title="Permalink"></a></h1><p>This page covers a few issues that may occur when using CrystalNets.jl. If your problem is not mentioned here, you can <a href="https://github.com/coudertlab/CrystalNets.jl/issues/new">open an issue</a>.</p><h2 id="How-can-I-silence-warnings-or-remove-exports?"><a class="docs-heading-anchor" href="#How-can-I-silence-warnings-or-remove-exports?">How can I silence warnings or remove exports?</a><a id="How-can-I-silence-warnings-or-remove-exports?-1"></a><a class="docs-heading-anchor-permalink" href="#How-can-I-silence-warnings-or-remove-exports?" title="Permalink"></a></h2><ul><li>From the module: see <a href="../lib/public/#CrystalNets.toggle_warning"><code>CrystalNets.toggle_warning</code></a> and <a href="../lib/public/#CrystalNets.toggle_export"><code>CrystalNets.toggle_export</code></a></li><li>From the executable: use the <code>--no-warn</code> and <code>--no-export</code> flags.</li></ul><p>For exports, each <code>export_...</code> keyword argument to <a href="../lib/public/#CrystalNets.Options"><code>Options</code></a> can be individually set to <code>false</code> or <code>&quot;&quot;</code> to silence this particular export. See also the paragraph on <a href="../man/visualization/#Export-options">Export options</a>.</p><h2 id="How-can-I-check-that-the-detected-topology-corresponds-to-my-input?"><a class="docs-heading-anchor" href="#How-can-I-check-that-the-detected-topology-corresponds-to-my-input?">How can I check that the detected topology corresponds to my input?</a><a id="How-can-I-check-that-the-detected-topology-corresponds-to-my-input?-1"></a><a class="docs-heading-anchor-permalink" href="#How-can-I-check-that-the-detected-topology-corresponds-to-my-input?" title="Permalink"></a></h2><p>This is the focus of the <a href="../man/visualization/#Visualization">Visualization</a> tutorial.</p><h2 id="How-can-I-choose-a-particular-clustering-algorithm?"><a class="docs-heading-anchor" href="#How-can-I-choose-a-particular-clustering-algorithm?">How can I choose a particular clustering algorithm?</a><a id="How-can-I-choose-a-particular-clustering-algorithm?-1"></a><a class="docs-heading-anchor-permalink" href="#How-can-I-choose-a-particular-clustering-algorithm?" title="Permalink"></a></h2><p>Pass the appropriate option from <a href="../lib/public/#CrystalNets.Clustering"><code>Clustering</code></a> to the <code>clusterings</code> keyword argument of <a href="../lib/public/#CrystalNets.Options"><code>Options</code></a>, or use the <code>-c</code> flag from the executable. For example, to compute the topology of UiO-66 with the Points-of-Extension (PE) clustering algorithm, do</p><pre><code class="language-julia-repl hljs">julia&gt; path_to_uio66 = joinpath(dirname(dirname(pathof(CrystalNets))), &quot;test&quot;, &quot;cif&quot;, &quot;UiO-66.cif&quot;);

julia&gt; determine_topology(path_to_uio66; structure=StructureType.MOF, clusterings=[Clustering.PE])
PE: ubt</code></pre><p>The <code>clusterings</code> keyword argument accepts a list of <a href="../lib/public/#CrystalNets.Clustering"><code>Clustering</code></a>s you can check multiple clusterings at once while factoring useless computations. For example:</p><pre><code class="language-julia-repl hljs">julia&gt; determine_topology(path_to_uio66; structure=StructureType.MOF, clusterings=[Clustering.Standard, Clustering.Auto])
Standard: xbi
AllNodes, SingleNodes: fcu</code></pre><p>Note that <code>Auto</code> is equivalent to both <code>AllNodes</code> and <code>SingleNodes</code> when the <a href="../lib/public/#CrystalNets.StructureType"><code>StructureType</code></a> is set to <code>MOF</code>.</p><p>See <a href="#ToposProStandard">below</a> for the reason why the <code>Standard</code> topology is <strong>xbi</strong> and not ToposPro&#39;s &quot;3,4,8T15&quot;.</p><h2 id="The-topology-has-a-name-given-by-ToposPro-but-CrystalNets.jl-yields-&quot;UNKNOWN-...&quot;"><a class="docs-heading-anchor" href="#The-topology-has-a-name-given-by-ToposPro-but-CrystalNets.jl-yields-&quot;UNKNOWN-...&quot;">The topology has a name given by ToposPro but CrystalNets.jl yields &quot;UNKNOWN ...&quot;</a><a id="The-topology-has-a-name-given-by-ToposPro-but-CrystalNets.jl-yields-&quot;UNKNOWN-...&quot;-1"></a><a class="docs-heading-anchor-permalink" href="#The-topology-has-a-name-given-by-ToposPro-but-CrystalNets.jl-yields-&quot;UNKNOWN-...&quot;" title="Permalink"></a></h2><p>In CrystalNets.jl, a net is identified if the graph of the crystal is <a href="https://en.wikipedia.org/wiki/Graph_isomorphism">isomorphic</a> to the net. This correspondence is exact and the algorithm can only fail in case of unstable nets, which are reported as such. To do so, CrystalNets.jl actually solves the more complex <a href="https://en.wikipedia.org/wiki/Graph_canonization">graph canonicalization problem</a> which consists in finding a &quot;genome&quot; (a sequence of numbers) provably unique for each net and such that two isomorphic nets have the same genome. Each genome is then associated with a name. See <a href="https://doi.org/10/dbg89q">this article</a> for more information on the implementation in the program Systre, from which CrystalNets.jl is derived.</p><p>ToposPro does not exactly solve the periodic graph isomorphism problem: instead, it identifies the graph of a crystal as a known net if both share a number of properties (coordination sequences up to a certain point, point symbols and vertex symbols, see <a href="https://doi.org/gd4tgf">this article</a>). This is usually an excellent approximation, but it is mathematically unsound as there may exist two non-isormorphic nets sharing these three properties. In particular, this means that there cannot be a unique topological genome defined for these &quot;nets&quot; recognized by ToposPro. As a consequence, they cannot be used by CrystalNets.jl.</p><h2 id="ToposProStandard"><a class="docs-heading-anchor" href="#ToposProStandard">Why is the topology computed with Standard different from ToposPro&#39;s standard?</a><a id="ToposProStandard-1"></a><a class="docs-heading-anchor-permalink" href="#ToposProStandard" title="Permalink"></a></h2><p>While both algorithms usually align, the result may not be the same in all cases because they are not defined in the same way.</p><p>Most often, the difference will come from either:</p><ul><li>an oxygen atom having three (or more) bonds becomes a vertex for ToposPro but is removed by CrystalNets.jl. To solve this, use <code>split_O_vertex=false</code> in the <a href="../lib/public/#CrystalNets.Options"><code>Options</code></a>.</li><li>a paddle-wheel pattern is grouped into a single cluster by CrystalNets.jl but not by ToposPro. To solve this, use <code>detect_paddlewheels=false</code> in the <a href="../lib/public/#CrystalNets.Options"><code>Options</code></a>.</li></ul><h2 id="How-can-I-do-a-database-topology-analysis-with-CrystalNets.jl?"><a class="docs-heading-anchor" href="#How-can-I-do-a-database-topology-analysis-with-CrystalNets.jl?">How can I do a database topology analysis with CrystalNets.jl?</a><a id="How-can-I-do-a-database-topology-analysis-with-CrystalNets.jl?-1"></a><a class="docs-heading-anchor-permalink" href="#How-can-I-do-a-database-topology-analysis-with-CrystalNets.jl?" title="Permalink"></a></h2><p>The built-in way to do this consists in using the <a href="../lib/public/#CrystalNets.determine_topology_dataset"><code>determine_topology_dataset</code></a> function, or <a href="../lib/public/#CrystalNets.guess_topology_dataset"><code>guess_topology_dataset</code></a> in some cases. These functions expect the path of a directory containing CIF files within (possibly in subdirectories).</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../man/visualization/">« Visualization</a><a class="docs-footer-nextpage" href="../lib/public/">Public »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Monday 21 March 2022 15:05">Monday 21 March 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
